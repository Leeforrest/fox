<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.rg">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Insert title here</title>
</head>
<body>
<div id="playerInfo">
	玩家Uid	
		<input id="playerUid" type="text" name="playerUid" placeholder="" />
		<input id="search" type="button"  value="搜索"/>
</div>


<div id="errorInfo"></div>		
<div  th:switch="${error}">
	<p th:case="'3'" style="color:red">Request time out!!</p>
</div>

	
	<script>
	//把服务器返回的页面嵌套到指定标签
	function clientSideInclude(id, url) {
		
		var req = false;
		// Safari, Firefox, 及其他非微软浏览器
		if(window.XMLHttpRequest) {
			try {
				req = new XMLHttpRequest();
			} catch(e) {
				req = false;
			}
		// For Internet Explorer on Windows
		} else if(window.ActiveXObect){
			try {
				req = new ActiveXObject("Msxml2.XMLHTTP");
			} catch (e) {
				try {
					req = new ActiveXObject("Microsoft.XMLHTTP");
				} catch (e) {
					req = false;
				}
			}
		}
		
		var element = document.getElementById(id);
		if (!element) {
			alert("函数clientSideInclude无法找到id " + id + "。你的网页中必须有一个含有这个id的div 或 span 标签。");
			return;
		}
		if (req) {
		// 同步请求，等待收到全部内容
			req.open('GET', url, false);
			req.send(null);
			element.innerHTML = req.responseText;
		} else {
			element.innerHTML =
			"对不起，你的浏览器不支持 " +
			"XMLHTTPRequest 对象。这个网页的显示要求 " +
			"Internet Explorer 5 以上版本, " +
			"或 Firefox 或 Safari 浏览器，也可能会有其他可兼容的浏览器存在。";
		}
	}
	
	$(function () { 
		$('#search').click(function () { 
			var playerUid = $('#playerUid').val(); 
			
			$.ajax({ 
				type: "post", 
				contentType: "application/json", 
				url: "/searchPlayer", 
				data: "{playerUid:'" + playerUid + "'}"
			}) 
		}) 
	}) 
	</script>
</body>
</html>